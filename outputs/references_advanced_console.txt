C/C++ Syntax Analyzer with AST
==============================

Token: #include <stdio.h>   Type: PREPROCESSOR   
Token: void                 Type: KEYWORD        
Token: swap                 Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: int                  Type: KEYWORD        
Token: &                    Type: BITWISE_OP     
Token: x                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: int                  Type: KEYWORD        
Token: &                    Type: BITWISE_OP     
Token: y                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: {                    Type: LBRACE         
Token: int                  Type: KEYWORD        
Token: temp                 Type: IDENTIFIER     
Token: =                    Type: ASSIGN         
Token: x                    Type: IDENTIFIER     
Token: ;                    Type: SEMICOLON      
Token: x                    Type: IDENTIFIER     
Token: =                    Type: ASSIGN         
Token: y                    Type: IDENTIFIER     
Token: ;                    Type: SEMICOLON      
Token: y                    Type: IDENTIFIER     
Token: =                    Type: ASSIGN         
Token: temp                 Type: IDENTIFIER     
Token: ;                    Type: SEMICOLON      
Token: }                    Type: RBRACE         
Token: int                  Type: KEYWORD        
Token: main                 Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: )                    Type: RPAREN         
Token: {                    Type: LBRACE         
Token: int                  Type: KEYWORD        
Token: a                    Type: IDENTIFIER     
Token: =                    Type: ASSIGN         
Token: 10                   Type: INTEGER_CONSTANT
Token: ;                    Type: SEMICOLON      
Token: int                  Type: KEYWORD        
Token: b                    Type: IDENTIFIER     
Token: =                    Type: ASSIGN         
Token: 20                   Type: INTEGER_CONSTANT
Token: ;                    Type: SEMICOLON      
Token: printf               Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: "Before swap: a=%d, b=%d\n" Type: STRING_LITERAL 
Token: ,                    Type: COMMA          
Token: a                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: b                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: ;                    Type: SEMICOLON      
Token: swap                 Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: a                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: b                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: ;                    Type: SEMICOLON      
Token: printf               Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: "After swap: a=%d, b=%d\n" Type: STRING_LITERAL 
Token: ,                    Type: COMMA          
Token: a                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: b                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: ;                    Type: SEMICOLON      
Token: return               Type: KEYWORD        
Token: 0                    Type: INTEGER_CONSTANT
Token: ;                    Type: SEMICOLON      
Token: }                    Type: RBRACE         

=== PARSING SUCCESSFUL ===

=== SEMANTIC ANALYSIS ===
=== SEMANTIC ANALYSIS STARTED ===
=== SEMANTIC ANALYSIS COMPLETED ===
Found 0 semantic error(s)
Found 0 warning(s)

=== SYMBOL TABLE (ACTIVE SCOPES) ===
Scope 0:
  function 'main' : int (scope: 0, line: 16) [has_return]
 (scope: 0, line: 16) [has_return]
  function 'swap' : void(int&, int&) (scope: 0, line: 7)
    parameter 'x' : int& (scope: 0, line: 0)
 (scope: 0, line: 0)
    parameter 'y' : int& (scope: 0, line: 0)
 (scope: 0, line: 0)
 (int& x, int& y) (scope: 0, line: 7)
  constant 'NULL' : void* (scope: 0, line: 0)
 (scope: 0, line: 0)

 Semantic analysis passed with no errors.

=== CODE GENERATION ===

=== THREE ADDRESS CODE ===
swap:
     = x param_decl int&
     = y param_decl int&
    t0 = *x
    temp = t0
    t1 = *y
    *x = t1
    *y = temp
    return
main:
    a = 10
    b = 20
    param "Before swap: a=%d, b=%d\n"
    param a
    param b
    t2 = call printf, 3
    t3 = &a
    param t3
    t4 = &b
    param t4
    call swap, 2
    param "After swap: a=%d, b=%d\n"
    param a
    param b
    t5 = call printf, 3
    return 0

Total instructions: 26

=== ABSTRACT SYNTAX TREE ===
TranslationUnit :  (line 1)
  Preprocessor : #include <stdio.h> (line 1)
  FunctionDefinition :  (line 7)
    DeclarationSpecifiers :  (line 3)
      TypeSpecifier : void (line 3)
    FunctionDeclarator :  (line 3)
      DirectDeclarator : swap (line 3)
      ParameterList :  (line 3)
        ParameterDeclaration :  (line 3)
          DeclarationSpecifiers :  (line 3)
            TypeSpecifier : int (line 3)
          ReferenceDeclarator :  (line 3)
            DirectDeclarator : x (line 3)
        ParameterDeclaration :  (line 3)
          DeclarationSpecifiers :  (line 3)
            TypeSpecifier : int (line 3)
          ReferenceDeclarator :  (line 3)
            DirectDeclarator : y (line 3)
    CompoundStatement :  (line 7)
      BlockItemList :  (line 4)
        BlockItem :  (line 4)
          Declaration :  (line 4)
            DeclarationSpecifiers :  (line 4)
              TypeSpecifier : int (line 4)
            InitDeclaratorList :  (line 4)
              InitDeclarator :  (line 4)
                DirectDeclarator : temp (line 4)
                Initializer :  (line 4)
                  Identifier : x (line 4)
        BlockItem :  (line 5)
          ExpressionStatement :  (line 5)
            AssignmentExpression : = (line 5)
              Identifier : x (line 5)
              Identifier : y (line 5)
        BlockItem :  (line 6)
          ExpressionStatement :  (line 6)
            AssignmentExpression : = (line 6)
              Identifier : y (line 6)
              Identifier : temp (line 6)
  FunctionDefinition :  (line 16)
    DeclarationSpecifiers :  (line 9)
      TypeSpecifier : int (line 9)
    FunctionDeclarator :  (line 9)
      DirectDeclarator : main (line 9)
    CompoundStatement :  (line 16)
      BlockItemList :  (line 10)
        BlockItem :  (line 10)
          Declaration :  (line 10)
            DeclarationSpecifiers :  (line 10)
              TypeSpecifier : int (line 10)
            InitDeclaratorList :  (line 10)
              InitDeclarator :  (line 10)
                DirectDeclarator : a (line 10)
                Initializer :  (line 10)
                  Constant : 10 (line 10)
        BlockItem :  (line 11)
          Declaration :  (line 11)
            DeclarationSpecifiers :  (line 11)
              TypeSpecifier : int (line 11)
            InitDeclaratorList :  (line 11)
              InitDeclarator :  (line 11)
                DirectDeclarator : b (line 11)
                Initializer :  (line 11)
                  Constant : 20 (line 11)
        BlockItem :  (line 12)
          ExpressionStatement :  (line 12)
            FunctionCall :  (line 12)
              Identifier : printf (line 12)
              ArgumentList :  (line 12)
                StringLiteral : "Before swap: a=%d, b=%d\n" (line 12)
                Identifier : a (line 12)
                Identifier : b (line 12)
        BlockItem :  (line 13)
          ExpressionStatement :  (line 13)
            FunctionCall :  (line 13)
              Identifier : swap (line 13)
              ArgumentList :  (line 13)
                Identifier : a (line 13)
                Identifier : b (line 13)
        BlockItem :  (line 14)
          ExpressionStatement :  (line 14)
            FunctionCall :  (line 14)
              Identifier : printf (line 14)
              ArgumentList :  (line 14)
                StringLiteral : "After swap: a=%d, b=%d\n" (line 14)
                Identifier : a (line 14)
                Identifier : b (line 14)
        BlockItem :  (line 15)
          ReturnStatement :  (line 15)
            Constant : 0 (line 15)

AST DOT file generated: ast.dot
TAC file generated: output.tac

=== MIPS ASSEMBLY GENERATION ===

=== MIPS ASSEMBLY CODE ===
    # ==============================================
    #   MIPS Assembly Code
    #   Generated from Three-Address Code
    # ==============================================

.data
.align 2
str_1: .asciiz "After swap: a=%d, b=%d\n"
.align 2
str_0: .asciiz "Before swap: a=%d, b=%d\n"
.align 2
newline: .asciiz "\n"
.align 2
var_a: .space 400
.align 2
var_b: .space 400

.text
.globl main


    # Function: swap
func_swap:
    # Function prologue
    addi $sp, $sp, -256
    sw $ra, 252($sp)
    sw $fp, 248($sp)
    addi $fp, $sp, 256
    sw $a0, 244($sp)
    sw $a1, 240($sp)
    sw $a2, 236($sp)
    sw $a3, 232($sp)
    sw $s0, 228($sp)
    sw $s1, 224($sp)
    sw $s2, 220($sp)
    sw $s3, 216($sp)
    sw $s4, 212($sp)
    sw $s5, 208($sp)
    sw $s6, 204($sp)
    sw $s7, 200($sp)
    # Loading parameter x from stack
    lw $t0, 244($sp)
    lw $t1, 0($t0)
    move $t2, $t1
    sw $t2, 0($sp)
    # Loading parameter y from stack
    lw $t1, 240($sp)
    lw $t2, 0($t1)
    sw $t2, 0($t0)
    # Reloading temp from stack
    lw $t2, 0($sp)
    sw $t2, 0($t1)
    # Function epilogue
    lw $s0, 228($sp)
    lw $s1, 224($sp)
    lw $s2, 220($sp)
    lw $s3, 216($sp)
    lw $s4, 212($sp)
    lw $s5, 208($sp)
    lw $s6, 204($sp)
    lw $s7, 200($sp)
    lw $fp, 248($sp)
    lw $ra, 252($sp)
    addi $sp, $sp, 256
    jr $ra

    # Function: main
main:
    # Reserve stack space for register spills
    addi $sp, $sp, -256
    li $t0, 10
    sw $t0, 0($sp)
    li $t0, 20
    sw $t0, 4($sp)
    la $s0, str_0
    # Save string param str_0 to $s0
    # Reloading a from stack
    lw $t0, 0($sp)
    move $s1, $t0
    # Save param a to $s1
    # Reloading b from stack
    lw $t1, 4($sp)
    move $s2, $t1
    # Save param b to $s2
    # Call printf
    li $v0, 11
    li $a0, 66
    syscall
    li $v0, 11
    li $a0, 101
    syscall
    li $v0, 11
    li $a0, 102
    syscall
    li $v0, 11
    li $a0, 111
    syscall
    li $v0, 11
    li $a0, 114
    syscall
    li $v0, 11
    li $a0, 101
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    li $v0, 11
    li $a0, 115
    syscall
    li $v0, 11
    li $a0, 119
    syscall
    li $v0, 11
    li $a0, 97
    syscall
    li $v0, 11
    li $a0, 112
    syscall
    li $v0, 11
    li $a0, 58
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    li $v0, 11
    li $a0, 97
    syscall
    li $v0, 11
    li $a0, 61
    syscall
    # Print integer
    li $v0, 1
    move $a0, $s1
    syscall
    li $v0, 11
    li $a0, 44
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    li $v0, 11
    li $a0, 98
    syscall
    li $v0, 11
    li $a0, 61
    syscall
    # Print integer
    li $v0, 1
    move $a0, $s2
    syscall
    li $v0, 11
    li $a0, 10
    syscall
    move $t0, $sp
    move $s3, $t0
    # Save param t3 to $s3
    addi $t0, $sp, 4
    move $s4, $t0
    # Save param t4 to $s4
    # Call swap
    move $a0, $s3
    move $a1, $s4
    jal func_swap
    la $s5, str_1
    # Save string param str_1 to $s5
    # Reloading a from stack
    lw $t0, 0($sp)
    move $s6, $t0
    # Save param a to $s6
    # Reloading b from stack
    lw $t1, 4($sp)
    move $s7, $t1
    # Save param b to $s7
    # Call printf
    li $v0, 11
    li $a0, 65
    syscall
    li $v0, 11
    li $a0, 102
    syscall
    li $v0, 11
    li $a0, 116
    syscall
    li $v0, 11
    li $a0, 101
    syscall
    li $v0, 11
    li $a0, 114
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    li $v0, 11
    li $a0, 115
    syscall
    li $v0, 11
    li $a0, 119
    syscall
    li $v0, 11
    li $a0, 97
    syscall
    li $v0, 11
    li $a0, 112
    syscall
    li $v0, 11
    li $a0, 58
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    li $v0, 11
    li $a0, 97
    syscall
    li $v0, 11
    li $a0, 61
    syscall
    # Print integer
    li $v0, 1
    move $a0, $s6
    syscall
    li $v0, 11
    li $a0, 44
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    li $v0, 11
    li $a0, 98
    syscall
    li $v0, 11
    li $a0, 61
    syscall
    # Print integer
    li $v0, 1
    move $a0, $s7
    syscall
    li $v0, 11
    li $a0, 10
    syscall
    li $v0, 0
    # Restore stack and exit program
    addi $sp, $sp, 256
    li $v0, 10
    syscall

MIPS file generated: output.s

==================================================
COMPILATION SUCCESSFUL
==================================================
