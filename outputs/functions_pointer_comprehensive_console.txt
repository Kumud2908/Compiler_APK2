C/C++ Syntax Analyzer with AST
==============================

Token: #include <stdio.h>   Type: PREPROCESSOR   
Token: int                  Type: KEYWORD        
Token: add                  Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: int                  Type: KEYWORD        
Token: a                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: int                  Type: KEYWORD        
Token: b                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: {                    Type: LBRACE         
Token: return               Type: KEYWORD        
Token: a                    Type: IDENTIFIER     
Token: +                    Type: ARITHMETIC_OP  
Token: b                    Type: IDENTIFIER     
Token: ;                    Type: SEMICOLON      
Token: }                    Type: RBRACE         
Token: int                  Type: KEYWORD        
Token: subtract             Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: int                  Type: KEYWORD        
Token: a                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: int                  Type: KEYWORD        
Token: b                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: {                    Type: LBRACE         
Token: return               Type: KEYWORD        
Token: a                    Type: IDENTIFIER     
Token: -                    Type: ARITHMETIC_OP  
Token: b                    Type: IDENTIFIER     
Token: ;                    Type: SEMICOLON      
Token: }                    Type: RBRACE         
Token: int                  Type: KEYWORD        
Token: multiply             Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: int                  Type: KEYWORD        
Token: a                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: int                  Type: KEYWORD        
Token: b                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: {                    Type: LBRACE         
Token: return               Type: KEYWORD        
Token: a                    Type: IDENTIFIER     
Token: *                    Type: ARITHMETIC_OP  
Token: b                    Type: IDENTIFIER     
Token: ;                    Type: SEMICOLON      
Token: }                    Type: RBRACE         
Token: int                  Type: KEYWORD        
Token: divide               Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: int                  Type: KEYWORD        
Token: a                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: int                  Type: KEYWORD        
Token: b                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: {                    Type: LBRACE         
Token: return               Type: KEYWORD        
Token: a                    Type: IDENTIFIER     
Token: /                    Type: ARITHMETIC_OP  
Token: b                    Type: IDENTIFIER     
Token: ;                    Type: SEMICOLON      
Token: }                    Type: RBRACE         
Token: int                  Type: KEYWORD        
Token: apply_operation      Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: int                  Type: KEYWORD        
Token: x                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: int                  Type: KEYWORD        
Token: y                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: int                  Type: KEYWORD        
Token: (                    Type: LPAREN         
Token: *                    Type: ARITHMETIC_OP  
Token: op                   Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: (                    Type: LPAREN         
Token: int                  Type: KEYWORD        
Token: ,                    Type: COMMA          
Token: int                  Type: KEYWORD        
Token: )                    Type: RPAREN         
Token: )                    Type: RPAREN         
Token: {                    Type: LBRACE         
Token: return               Type: KEYWORD        
Token: op                   Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: x                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: y                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: ;                    Type: SEMICOLON      
Token: }                    Type: RBRACE         
Token: int                  Type: KEYWORD        
Token: main                 Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: )                    Type: RPAREN         
Token: {                    Type: LBRACE         
Token: int                  Type: KEYWORD        
Token: (                    Type: LPAREN         
Token: *                    Type: ARITHMETIC_OP  
Token: operations           Type: IDENTIFIER     
Token: [                    Type: LBRACKET       
Token: 4                    Type: INTEGER_CONSTANT
Token: ]                    Type: RBRACKET       
Token: )                    Type: RPAREN         
Token: (                    Type: LPAREN         
Token: int                  Type: KEYWORD        
Token: ,                    Type: COMMA          
Token: int                  Type: KEYWORD        
Token: )                    Type: RPAREN         
Token: ;                    Type: SEMICOLON      
Token: operations           Type: IDENTIFIER     
Token: [                    Type: LBRACKET       
Token: 0                    Type: INTEGER_CONSTANT
Token: ]                    Type: RBRACKET       
Token: =                    Type: ASSIGN         
Token: add                  Type: IDENTIFIER     
Token: ;                    Type: SEMICOLON      
Token: operations           Type: IDENTIFIER     
Token: [                    Type: LBRACKET       
Token: 1                    Type: INTEGER_CONSTANT
Token: ]                    Type: RBRACKET       
Token: =                    Type: ASSIGN         
Token: subtract             Type: IDENTIFIER     
Token: ;                    Type: SEMICOLON      
Token: operations           Type: IDENTIFIER     
Token: [                    Type: LBRACKET       
Token: 2                    Type: INTEGER_CONSTANT
Token: ]                    Type: RBRACKET       
Token: =                    Type: ASSIGN         
Token: multiply             Type: IDENTIFIER     
Token: ;                    Type: SEMICOLON      
Token: operations           Type: IDENTIFIER     
Token: [                    Type: LBRACKET       
Token: 3                    Type: INTEGER_CONSTANT
Token: ]                    Type: RBRACKET       
Token: =                    Type: ASSIGN         
Token: divide               Type: IDENTIFIER     
Token: ;                    Type: SEMICOLON      
Token: int                  Type: KEYWORD        
Token: a                    Type: IDENTIFIER     
Token: =                    Type: ASSIGN         
Token: 20                   Type: INTEGER_CONSTANT
Token: ,                    Type: COMMA          
Token: b                    Type: IDENTIFIER     
Token: =                    Type: ASSIGN         
Token: 4                    Type: INTEGER_CONSTANT
Token: ;                    Type: SEMICOLON      
Token: printf               Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: "Operations on %d and %d:\n" Type: STRING_LITERAL 
Token: ,                    Type: COMMA          
Token: a                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: b                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: ;                    Type: SEMICOLON      
Token: printf               Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: "Add: %d\n"          Type: STRING_LITERAL 
Token: ,                    Type: COMMA          
Token: operations           Type: IDENTIFIER     
Token: [                    Type: LBRACKET       
Token: 0                    Type: INTEGER_CONSTANT
Token: ]                    Type: RBRACKET       
Token: (                    Type: LPAREN         
Token: a                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: b                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: )                    Type: RPAREN         
Token: ;                    Type: SEMICOLON      
Token: printf               Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: "Subtract: %d\n"     Type: STRING_LITERAL 
Token: ,                    Type: COMMA          
Token: operations           Type: IDENTIFIER     
Token: [                    Type: LBRACKET       
Token: 1                    Type: INTEGER_CONSTANT
Token: ]                    Type: RBRACKET       
Token: (                    Type: LPAREN         
Token: a                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: b                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: )                    Type: RPAREN         
Token: ;                    Type: SEMICOLON      
Token: printf               Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: "Multiply: %d\n"     Type: STRING_LITERAL 
Token: ,                    Type: COMMA          
Token: operations           Type: IDENTIFIER     
Token: [                    Type: LBRACKET       
Token: 2                    Type: INTEGER_CONSTANT
Token: ]                    Type: RBRACKET       
Token: (                    Type: LPAREN         
Token: a                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: b                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: )                    Type: RPAREN         
Token: ;                    Type: SEMICOLON      
Token: printf               Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: "Divide: %d\n"       Type: STRING_LITERAL 
Token: ,                    Type: COMMA          
Token: operations           Type: IDENTIFIER     
Token: [                    Type: LBRACKET       
Token: 3                    Type: INTEGER_CONSTANT
Token: ]                    Type: RBRACKET       
Token: (                    Type: LPAREN         
Token: a                    Type: IDENTIFIER     
Token: ,                    Type: COMMA          
Token: b                    Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: )                    Type: RPAREN         
Token: ;                    Type: SEMICOLON      
Token: printf               Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: "Using apply_operation:\n" Type: STRING_LITERAL 
Token: )                    Type: RPAREN         
Token: ;                    Type: SEMICOLON      
Token: printf               Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: "Result: %d\n"       Type: STRING_LITERAL 
Token: ,                    Type: COMMA          
Token: apply_operation      Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: 10                   Type: INTEGER_CONSTANT
Token: ,                    Type: COMMA          
Token: 5                    Type: INTEGER_CONSTANT
Token: ,                    Type: COMMA          
Token: add                  Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: )                    Type: RPAREN         
Token: ;                    Type: SEMICOLON      
Token: printf               Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: "Result: %d\n"       Type: STRING_LITERAL 
Token: ,                    Type: COMMA          
Token: apply_operation      Type: IDENTIFIER     
Token: (                    Type: LPAREN         
Token: 10                   Type: INTEGER_CONSTANT
Token: ,                    Type: COMMA          
Token: 5                    Type: INTEGER_CONSTANT
Token: ,                    Type: COMMA          
Token: multiply             Type: IDENTIFIER     
Token: )                    Type: RPAREN         
Token: )                    Type: RPAREN         
Token: ;                    Type: SEMICOLON      
Token: return               Type: KEYWORD        
Token: 0                    Type: INTEGER_CONSTANT
Token: ;                    Type: SEMICOLON      
Token: }                    Type: RBRACE         

=== PARSING SUCCESSFUL ===

=== SEMANTIC ANALYSIS ===
=== SEMANTIC ANALYSIS STARTED ===
Line 11: WARNING: Return type mismatch: expected 'int', got 'int(*)()'
Line 11: WARNING: Function pointer 'op' may be uninitialized
=== SEMANTIC ANALYSIS COMPLETED ===
Found 0 semantic error(s)
Found 2 warning(s)

=== SYMBOL TABLE (ACTIVE SCOPES) ===
Scope 0:
  function 'main' : int (scope: 0, line: 35) [has_return]
 (scope: 0, line: 35) [has_return]
  function 'apply_operation' : int(int, int, int(*)()) (scope: 0, line: 12) [has_return]
    parameter 'x' : int (scope: 0, line: 0)
 (scope: 0, line: 0)
    parameter 'y' : int (scope: 0, line: 0)
 (scope: 0, line: 0)
    parameter 'op' : int(*)() (scope: 0, line: 0)
 (scope: 0, line: 0)
 (int x, int y, int(*)() op) (scope: 0, line: 12) [has_return]
  function 'divide' : int(int, int) (scope: 0, line: 7) [has_return]
    parameter 'a' : int (scope: 0, line: 0)
 (scope: 0, line: 0)
    parameter 'b' : int (scope: 0, line: 0)
 (scope: 0, line: 0)
 (int a, int b) (scope: 0, line: 7) [has_return]
  function 'multiply' : int(int, int) (scope: 0, line: 6) [has_return]
    parameter 'a' : int (scope: 0, line: 0)
 (scope: 0, line: 0)
    parameter 'b' : int (scope: 0, line: 0)
 (scope: 0, line: 0)
 (int a, int b) (scope: 0, line: 6) [has_return]
  function 'subtract' : int(int, int) (scope: 0, line: 5) [has_return]
    parameter 'a' : int (scope: 0, line: 0)
 (scope: 0, line: 0)
    parameter 'b' : int (scope: 0, line: 0)
 (scope: 0, line: 0)
 (int a, int b) (scope: 0, line: 5) [has_return]
  function 'add' : int(int, int) (scope: 0, line: 4) [has_return]
    parameter 'a' : int (scope: 0, line: 0)
 (scope: 0, line: 0)
    parameter 'b' : int (scope: 0, line: 0)
 (scope: 0, line: 0)
 (int a, int b) (scope: 0, line: 4) [has_return]
  constant 'NULL' : void* (scope: 0, line: 0)
 (scope: 0, line: 0)

 Semantic analysis passed with no errors.

=== CODE GENERATION ===

=== THREE ADDRESS CODE ===
add:
     = a param_decl int
     = b param_decl int
    t0 = a + b
    return t0
subtract:
     = a param_decl int
     = b param_decl int
    t1 = a - b
    return t1
multiply:
     = a param_decl int
     = b param_decl int
    t2 = a * b
    return t2
divide:
     = a param_decl int
     = b param_decl int
    t3 = a / b
    return t3
apply_operation:
     = x param_decl int
     = y param_decl int
     = op param_decl int(*)()
    param x
    param y
    t4 = call* op, 2
    return t4
main:
    t5 = &operations
    t6 = 0 * 4
    t7 = t5 + t6
    *t7 = add
    t8 = &operations
    t9 = 1 * 4
    t10 = t8 + t9
    *t10 = subtract
    t11 = &operations
    t12 = 2 * 4
    t13 = t11 + t12
    *t13 = multiply
    t14 = &operations
    t15 = 3 * 4
    t16 = t14 + t15
    *t16 = divide
    a = 20
    b = 4
    param "Operations on %d and %d:\n"
    param a
    param b
    t17 = call printf, 3
    param "Add: %d\n"
    t18 = 0 * 4
    t19 = &operations
    t20 = t19 + t18
    t21 = *t20
    param a
    param b
    t22 = call* t21, 2
    param t22
    t23 = call printf, 2
    param "Subtract: %d\n"
    t24 = 1 * 4
    t25 = &operations
    t26 = t25 + t24
    t27 = *t26
    param a
    param b
    t28 = call* t27, 2
    param t28
    t29 = call printf, 2
    param "Multiply: %d\n"
    t30 = 2 * 4
    t31 = &operations
    t32 = t31 + t30
    t33 = *t32
    param a
    param b
    t34 = call* t33, 2
    param t34
    t35 = call printf, 2
    param "Divide: %d\n"
    t36 = 3 * 4
    t37 = &operations
    t38 = t37 + t36
    t39 = *t38
    param a
    param b
    t40 = call* t39, 2
    param t40
    t41 = call printf, 2
    param "Using apply_operation:\n"
    t42 = call printf, 1
    param "Result: %d\n"
    param 10
    param 5
    param add
    t43 = call apply_operation, 3
    param t43
    t44 = call printf, 2
    param "Result: %d\n"
    param 10
    param 5
    param multiply
    t45 = call apply_operation, 3
    param t45
    t46 = call printf, 2
    return 0

Total instructions: 108

=== ABSTRACT SYNTAX TREE ===
TranslationUnit :  (line 2)
  Preprocessor : #include <stdio.h> (line 2)
  FunctionDefinition :  (line 4)
    DeclarationSpecifiers :  (line 4)
      TypeSpecifier : int (line 4)
    FunctionDeclarator :  (line 4)
      DirectDeclarator : add (line 4)
      ParameterList :  (line 4)
        ParameterDeclaration :  (line 4)
          DeclarationSpecifiers :  (line 4)
            TypeSpecifier : int (line 4)
          DirectDeclarator : a (line 4)
        ParameterDeclaration :  (line 4)
          DeclarationSpecifiers :  (line 4)
            TypeSpecifier : int (line 4)
          DirectDeclarator : b (line 4)
    CompoundStatement :  (line 4)
      BlockItemList :  (line 4)
        BlockItem :  (line 4)
          ReturnStatement :  (line 4)
            AdditiveExpression : + (line 4)
              Identifier : a (line 4)
              Identifier : b (line 4)
  FunctionDefinition :  (line 5)
    DeclarationSpecifiers :  (line 5)
      TypeSpecifier : int (line 5)
    FunctionDeclarator :  (line 5)
      DirectDeclarator : subtract (line 5)
      ParameterList :  (line 5)
        ParameterDeclaration :  (line 5)
          DeclarationSpecifiers :  (line 5)
            TypeSpecifier : int (line 5)
          DirectDeclarator : a (line 5)
        ParameterDeclaration :  (line 5)
          DeclarationSpecifiers :  (line 5)
            TypeSpecifier : int (line 5)
          DirectDeclarator : b (line 5)
    CompoundStatement :  (line 5)
      BlockItemList :  (line 5)
        BlockItem :  (line 5)
          ReturnStatement :  (line 5)
            AdditiveExpression : - (line 5)
              Identifier : a (line 5)
              Identifier : b (line 5)
  FunctionDefinition :  (line 6)
    DeclarationSpecifiers :  (line 6)
      TypeSpecifier : int (line 6)
    FunctionDeclarator :  (line 6)
      DirectDeclarator : multiply (line 6)
      ParameterList :  (line 6)
        ParameterDeclaration :  (line 6)
          DeclarationSpecifiers :  (line 6)
            TypeSpecifier : int (line 6)
          DirectDeclarator : a (line 6)
        ParameterDeclaration :  (line 6)
          DeclarationSpecifiers :  (line 6)
            TypeSpecifier : int (line 6)
          DirectDeclarator : b (line 6)
    CompoundStatement :  (line 6)
      BlockItemList :  (line 6)
        BlockItem :  (line 6)
          ReturnStatement :  (line 6)
            MultiplicativeExpression : * (line 6)
              Identifier : a (line 6)
              Identifier : b (line 6)
  FunctionDefinition :  (line 7)
    DeclarationSpecifiers :  (line 7)
      TypeSpecifier : int (line 7)
    FunctionDeclarator :  (line 7)
      DirectDeclarator : divide (line 7)
      ParameterList :  (line 7)
        ParameterDeclaration :  (line 7)
          DeclarationSpecifiers :  (line 7)
            TypeSpecifier : int (line 7)
          DirectDeclarator : a (line 7)
        ParameterDeclaration :  (line 7)
          DeclarationSpecifiers :  (line 7)
            TypeSpecifier : int (line 7)
          DirectDeclarator : b (line 7)
    CompoundStatement :  (line 7)
      BlockItemList :  (line 7)
        BlockItem :  (line 7)
          ReturnStatement :  (line 7)
            MultiplicativeExpression : / (line 7)
              Identifier : a (line 7)
              Identifier : b (line 7)
  FunctionDefinition :  (line 12)
    DeclarationSpecifiers :  (line 10)
      TypeSpecifier : int (line 10)
    FunctionDeclarator :  (line 10)
      DirectDeclarator : apply_operation (line 10)
      ParameterList :  (line 10)
        ParameterDeclaration :  (line 10)
          DeclarationSpecifiers :  (line 10)
            TypeSpecifier : int (line 10)
          DirectDeclarator : x (line 10)
        ParameterDeclaration :  (line 10)
          DeclarationSpecifiers :  (line 10)
            TypeSpecifier : int (line 10)
          DirectDeclarator : y (line 10)
        ParameterDeclaration :  (line 10)
          DeclarationSpecifiers :  (line 10)
            TypeSpecifier : int (line 10)
          FunctionDeclarator :  (line 10)
            Declarator :  (line 10)
              Pointer :  (line 10)
              DirectDeclarator : op (line 10)
            ParameterList :  (line 10)
              ParameterDeclaration :  (line 10)
                DeclarationSpecifiers :  (line 10)
                  TypeSpecifier : int (line 10)
              ParameterDeclaration :  (line 10)
                DeclarationSpecifiers :  (line 10)
                  TypeSpecifier : int (line 10)
    CompoundStatement :  (line 12)
      BlockItemList :  (line 11)
        BlockItem :  (line 11)
          ReturnStatement :  (line 11)
            FunctionCall :  (line 11)
              Identifier : op (line 11)
              ArgumentList :  (line 11)
                Identifier : x (line 11)
                Identifier : y (line 11)
  FunctionDefinition :  (line 35)
    DeclarationSpecifiers :  (line 14)
      TypeSpecifier : int (line 14)
    FunctionDeclarator :  (line 14)
      DirectDeclarator : main (line 14)
    CompoundStatement :  (line 35)
      BlockItemList :  (line 15)
        BlockItem :  (line 15)
          Declaration :  (line 15)
            DeclarationSpecifiers :  (line 15)
              TypeSpecifier : int (line 15)
            InitDeclaratorList :  (line 15)
              InitDeclarator :  (line 15)
                FunctionDeclarator :  (line 15)
                  Declarator :  (line 15)
                    Pointer :  (line 15)
                    ArrayDeclarator :  (line 15)
                      DirectDeclarator : operations (line 15)
                      Constant : 4 (line 15)
                  ParameterList :  (line 15)
                    ParameterDeclaration :  (line 15)
                      DeclarationSpecifiers :  (line 15)
                        TypeSpecifier : int (line 15)
                    ParameterDeclaration :  (line 15)
                      DeclarationSpecifiers :  (line 15)
                        TypeSpecifier : int (line 15)
        BlockItem :  (line 16)
          ExpressionStatement :  (line 16)
            AssignmentExpression : = (line 16)
              ArraySubscript :  (line 16)
                Identifier : operations (line 16)
                Constant : 0 (line 16)
              Identifier : add (line 16)
        BlockItem :  (line 17)
          ExpressionStatement :  (line 17)
            AssignmentExpression : = (line 17)
              ArraySubscript :  (line 17)
                Identifier : operations (line 17)
                Constant : 1 (line 17)
              Identifier : subtract (line 17)
        BlockItem :  (line 18)
          ExpressionStatement :  (line 18)
            AssignmentExpression : = (line 18)
              ArraySubscript :  (line 18)
                Identifier : operations (line 18)
                Constant : 2 (line 18)
              Identifier : multiply (line 18)
        BlockItem :  (line 19)
          ExpressionStatement :  (line 19)
            AssignmentExpression : = (line 19)
              ArraySubscript :  (line 19)
                Identifier : operations (line 19)
                Constant : 3 (line 19)
              Identifier : divide (line 19)
        BlockItem :  (line 21)
          Declaration :  (line 21)
            DeclarationSpecifiers :  (line 21)
              TypeSpecifier : int (line 21)
            InitDeclaratorList :  (line 21)
              InitDeclarator :  (line 21)
                DirectDeclarator : a (line 21)
                Initializer :  (line 21)
                  Constant : 20 (line 21)
              InitDeclarator :  (line 21)
                DirectDeclarator : b (line 21)
                Initializer :  (line 21)
                  Constant : 4 (line 21)
        BlockItem :  (line 23)
          ExpressionStatement :  (line 23)
            FunctionCall :  (line 23)
              Identifier : printf (line 23)
              ArgumentList :  (line 23)
                StringLiteral : "Operations on %d and %d:\n" (line 23)
                Identifier : a (line 23)
                Identifier : b (line 23)
        BlockItem :  (line 24)
          ExpressionStatement :  (line 24)
            FunctionCall :  (line 24)
              Identifier : printf (line 24)
              ArgumentList :  (line 24)
                StringLiteral : "Add: %d\n" (line 24)
                FunctionCall :  (line 24)
                  ArraySubscript :  (line 24)
                    Identifier : operations (line 24)
                    Constant : 0 (line 24)
                  ArgumentList :  (line 24)
                    Identifier : a (line 24)
                    Identifier : b (line 24)
        BlockItem :  (line 25)
          ExpressionStatement :  (line 25)
            FunctionCall :  (line 25)
              Identifier : printf (line 25)
              ArgumentList :  (line 25)
                StringLiteral : "Subtract: %d\n" (line 25)
                FunctionCall :  (line 25)
                  ArraySubscript :  (line 25)
                    Identifier : operations (line 25)
                    Constant : 1 (line 25)
                  ArgumentList :  (line 25)
                    Identifier : a (line 25)
                    Identifier : b (line 25)
        BlockItem :  (line 26)
          ExpressionStatement :  (line 26)
            FunctionCall :  (line 26)
              Identifier : printf (line 26)
              ArgumentList :  (line 26)
                StringLiteral : "Multiply: %d\n" (line 26)
                FunctionCall :  (line 26)
                  ArraySubscript :  (line 26)
                    Identifier : operations (line 26)
                    Constant : 2 (line 26)
                  ArgumentList :  (line 26)
                    Identifier : a (line 26)
                    Identifier : b (line 26)
        BlockItem :  (line 27)
          ExpressionStatement :  (line 27)
            FunctionCall :  (line 27)
              Identifier : printf (line 27)
              ArgumentList :  (line 27)
                StringLiteral : "Divide: %d\n" (line 27)
                FunctionCall :  (line 27)
                  ArraySubscript :  (line 27)
                    Identifier : operations (line 27)
                    Constant : 3 (line 27)
                  ArgumentList :  (line 27)
                    Identifier : a (line 27)
                    Identifier : b (line 27)
        BlockItem :  (line 30)
          ExpressionStatement :  (line 30)
            FunctionCall :  (line 30)
              Identifier : printf (line 30)
              ArgumentList :  (line 30)
                StringLiteral : "Using apply_operation:\n" (line 30)
        BlockItem :  (line 31)
          ExpressionStatement :  (line 31)
            FunctionCall :  (line 31)
              Identifier : printf (line 31)
              ArgumentList :  (line 31)
                StringLiteral : "Result: %d\n" (line 31)
                FunctionCall :  (line 31)
                  Identifier : apply_operation (line 31)
                  ArgumentList :  (line 31)
                    Constant : 10 (line 31)
                    Constant : 5 (line 31)
                    Identifier : add (line 31)
        BlockItem :  (line 32)
          ExpressionStatement :  (line 32)
            FunctionCall :  (line 32)
              Identifier : printf (line 32)
              ArgumentList :  (line 32)
                StringLiteral : "Result: %d\n" (line 32)
                FunctionCall :  (line 32)
                  Identifier : apply_operation (line 32)
                  ArgumentList :  (line 32)
                    Constant : 10 (line 32)
                    Constant : 5 (line 32)
                    Identifier : multiply (line 32)
        BlockItem :  (line 34)
          ReturnStatement :  (line 34)
            Constant : 0 (line 34)

AST DOT file generated: ast.dot
TAC file generated: output.tac

=== MIPS ASSEMBLY GENERATION ===

=== MIPS ASSEMBLY CODE ===
    # ==============================================
    #   MIPS Assembly Code
    #   Generated from Three-Address Code
    # ==============================================

.data
.align 2
str_5: .asciiz "Using apply_operation:\n"
.align 2
str_4: .asciiz "Divide: %d\n"
.align 2
str_6: .asciiz "Result: %d\n"
.align 2
str_3: .asciiz "Multiply: %d\n"
.align 2
str_2: .asciiz "Subtract: %d\n"
.align 2
str_1: .asciiz "Add: %d\n"
.align 2
str_0: .asciiz "Operations on %d and %d:\n"
.align 2
newline: .asciiz "\n"
.align 2
operations: .space 16

.text
.globl main


    # Function: add
func_add:
    # Function prologue
    addi $sp, $sp, -256
    sw $ra, 252($sp)
    sw $fp, 248($sp)
    addi $fp, $sp, 256
    sw $a0, 244($sp)
    sw $a1, 240($sp)
    sw $a2, 236($sp)
    sw $a3, 232($sp)
    sw $s0, 228($sp)
    sw $s1, 224($sp)
    sw $s2, 220($sp)
    sw $s3, 216($sp)
    sw $s4, 212($sp)
    sw $s5, 208($sp)
    sw $s6, 204($sp)
    sw $s7, 200($sp)
    # Loading parameter a from stack
    lw $t1, 244($sp)
    # Loading parameter b from stack
    lw $t2, 240($sp)
    add $t0, $t1, $t2
    move $v0, $t0
    # Function epilogue
    lw $s0, 228($sp)
    lw $s1, 224($sp)
    lw $s2, 220($sp)
    lw $s3, 216($sp)
    lw $s4, 212($sp)
    lw $s5, 208($sp)
    lw $s6, 204($sp)
    lw $s7, 200($sp)
    lw $fp, 248($sp)
    lw $ra, 252($sp)
    addi $sp, $sp, 256
    jr $ra

    # Function: subtract
func_subtract:
    # Function prologue
    addi $sp, $sp, -256
    sw $ra, 252($sp)
    sw $fp, 248($sp)
    addi $fp, $sp, 256
    sw $a0, 244($sp)
    sw $a1, 240($sp)
    sw $a2, 236($sp)
    sw $a3, 232($sp)
    sw $s0, 228($sp)
    sw $s1, 224($sp)
    sw $s2, 220($sp)
    sw $s3, 216($sp)
    sw $s4, 212($sp)
    sw $s5, 208($sp)
    sw $s6, 204($sp)
    sw $s7, 200($sp)
    # Loading parameter a from stack
    lw $t1, 244($sp)
    # Loading parameter b from stack
    lw $t2, 240($sp)
    sub $t0, $t1, $t2
    move $v0, $t0
    # Function epilogue
    lw $s0, 228($sp)
    lw $s1, 224($sp)
    lw $s2, 220($sp)
    lw $s3, 216($sp)
    lw $s4, 212($sp)
    lw $s5, 208($sp)
    lw $s6, 204($sp)
    lw $s7, 200($sp)
    lw $fp, 248($sp)
    lw $ra, 252($sp)
    addi $sp, $sp, 256
    jr $ra

    # Function: multiply
func_multiply:
    # Function prologue
    addi $sp, $sp, -256
    sw $ra, 252($sp)
    sw $fp, 248($sp)
    addi $fp, $sp, 256
    sw $a0, 244($sp)
    sw $a1, 240($sp)
    sw $a2, 236($sp)
    sw $a3, 232($sp)
    sw $s0, 228($sp)
    sw $s1, 224($sp)
    sw $s2, 220($sp)
    sw $s3, 216($sp)
    sw $s4, 212($sp)
    sw $s5, 208($sp)
    sw $s6, 204($sp)
    sw $s7, 200($sp)
    # Loading parameter a from stack
    lw $t1, 244($sp)
    # Loading parameter b from stack
    lw $t2, 240($sp)
    mul $t0, $t1, $t2
    move $v0, $t0
    # Function epilogue
    lw $s0, 228($sp)
    lw $s1, 224($sp)
    lw $s2, 220($sp)
    lw $s3, 216($sp)
    lw $s4, 212($sp)
    lw $s5, 208($sp)
    lw $s6, 204($sp)
    lw $s7, 200($sp)
    lw $fp, 248($sp)
    lw $ra, 252($sp)
    addi $sp, $sp, 256
    jr $ra

    # Function: divide
func_divide:
    # Function prologue
    addi $sp, $sp, -256
    sw $ra, 252($sp)
    sw $fp, 248($sp)
    addi $fp, $sp, 256
    sw $a0, 244($sp)
    sw $a1, 240($sp)
    sw $a2, 236($sp)
    sw $a3, 232($sp)
    sw $s0, 228($sp)
    sw $s1, 224($sp)
    sw $s2, 220($sp)
    sw $s3, 216($sp)
    sw $s4, 212($sp)
    sw $s5, 208($sp)
    sw $s6, 204($sp)
    sw $s7, 200($sp)
    # Loading parameter a from stack
    lw $t1, 244($sp)
    # Loading parameter b from stack
    lw $t2, 240($sp)
    div $t1, $t2
    mflo $t0
    move $v0, $t0
    # Function epilogue
    lw $s0, 228($sp)
    lw $s1, 224($sp)
    lw $s2, 220($sp)
    lw $s3, 216($sp)
    lw $s4, 212($sp)
    lw $s5, 208($sp)
    lw $s6, 204($sp)
    lw $s7, 200($sp)
    lw $fp, 248($sp)
    lw $ra, 252($sp)
    addi $sp, $sp, 256
    jr $ra

    # Function: apply_operation
func_apply_operation:
    # Function prologue
    addi $sp, $sp, -256
    sw $ra, 252($sp)
    sw $fp, 248($sp)
    addi $fp, $sp, 256
    sw $a0, 244($sp)
    sw $a1, 240($sp)
    sw $a2, 236($sp)
    sw $a3, 232($sp)
    sw $s0, 228($sp)
    sw $s1, 224($sp)
    sw $s2, 220($sp)
    sw $s3, 216($sp)
    sw $s4, 212($sp)
    sw $s5, 208($sp)
    sw $s6, 204($sp)
    sw $s7, 200($sp)
    # Loading parameter x from stack
    lw $t0, 244($sp)
    move $s0, $t0
    # Save param x to $s0
    # Loading parameter y from stack
    lw $t1, 240($sp)
    move $s1, $t1
    # Save param y to $s1
    # Indirect call through op
    # Loading parameter op from stack
    lw $t2, 236($sp)
    move $a0, $s0
    move $a1, $s1
    # Spilling y before function call
    sw $t1, 0($sp)
    # Spilling op before function call
    sw $t2, 4($sp)
    # Spilling x before function call
    sw $t0, 8($sp)
    jalr $t2
    move $s2, $v0
    move $v0, $s2
    # Function epilogue
    lw $s0, 228($sp)
    lw $s1, 224($sp)
    lw $s2, 220($sp)
    lw $s3, 216($sp)
    lw $s4, 212($sp)
    lw $s5, 208($sp)
    lw $s6, 204($sp)
    lw $s7, 200($sp)
    lw $fp, 248($sp)
    lw $ra, 252($sp)
    addi $sp, $sp, 256
    jr $ra

    # Function: main
main:
    # Reserve stack space for register spills
    addi $sp, $sp, -256
    la $t0, operations
    li $t2, 0
    li $t3, 4
    mul $t1, $t2, $t3
    add $t2, $t0, $t1
    la $t0, func_add
    sw $t0, 0($t2)
    la $t0, operations
    li $t3, 1
    li $t4, 4
    mul $t1, $t3, $t4
    add $t3, $t0, $t1
    la $t0, func_subtract
    sw $t0, 0($t3)
    la $t0, operations
    li $t4, 2
    li $t5, 4
    mul $t1, $t4, $t5
    add $t4, $t0, $t1
    la $t0, func_multiply
    sw $t0, 0($t4)
    la $t0, operations
    li $t5, 3
    li $t6, 4
    mul $t1, $t5, $t6
    add $t5, $t0, $t1
    la $t0, func_divide
    sw $t0, 0($t5)
    li $t0, 20
    sw $t0, 0($sp)
    li $t0, 4
    sw $t0, 4($sp)
    la $s3, str_0
    # Save string param str_0 to $s3
    # Reloading a from stack
    lw $t0, 0($sp)
    move $s4, $t0
    # Save param a to $s4
    # Reloading b from stack
    lw $t1, 4($sp)
    move $s5, $t1
    # Save param b to $s5
    # Call printf
    li $v0, 11
    li $a0, 79
    syscall
    li $v0, 11
    li $a0, 112
    syscall
    li $v0, 11
    li $a0, 101
    syscall
    li $v0, 11
    li $a0, 114
    syscall
    li $v0, 11
    li $a0, 97
    syscall
    li $v0, 11
    li $a0, 116
    syscall
    li $v0, 11
    li $a0, 105
    syscall
    li $v0, 11
    li $a0, 111
    syscall
    li $v0, 11
    li $a0, 110
    syscall
    li $v0, 11
    li $a0, 115
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    li $v0, 11
    li $a0, 111
    syscall
    li $v0, 11
    li $a0, 110
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    # Print integer
    li $v0, 1
    move $a0, $s4
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    li $v0, 11
    li $a0, 97
    syscall
    li $v0, 11
    li $a0, 110
    syscall
    li $v0, 11
    li $a0, 100
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    # Print integer
    li $v0, 1
    move $a0, $s5
    syscall
    li $v0, 11
    li $a0, 58
    syscall
    li $v0, 11
    li $a0, 10
    syscall
    la $s6, str_1
    # Save string param str_1 to $s6
    li $t1, 0
    li $t2, 4
    mul $t0, $t1, $t2
    la $t1, operations
    add $t2, $t1, $t0
    lw $t0, 0($t2)
    # Reloading a from stack
    lw $t1, 0($sp)
    move $s7, $t1
    # Save param a to $s7
    # Reloading b from stack
    lw $t2, 4($sp)
    move $s0, $t2
    # Save param b to $s0
    # Indirect call through t21
    move $a0, $s7
    move $a1, $s0
    jalr $t0
    move $s1, $v0
    move $s2, $s1
    # Save param t22 to $s2
    # Call printf
    li $v0, 11
    li $a0, 65
    syscall
    li $v0, 11
    li $a0, 100
    syscall
    li $v0, 11
    li $a0, 100
    syscall
    li $v0, 11
    li $a0, 58
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    # Print integer
    li $v0, 1
    move $a0, $s2
    syscall
    li $v0, 11
    li $a0, 10
    syscall
    la $s3, str_2
    # Save string param str_2 to $s3
    li $t1, 1
    li $t2, 4
    mul $t0, $t1, $t2
    la $t1, operations
    add $t2, $t1, $t0
    lw $t0, 0($t2)
    # Reloading a from stack
    lw $t1, 0($sp)
    move $s4, $t1
    # Save param a to $s4
    # Reloading b from stack
    lw $t2, 4($sp)
    move $s5, $t2
    # Save param b to $s5
    # Indirect call through t27
    move $a0, $s4
    move $a1, $s5
    jalr $t0
    move $s6, $v0
    move $s7, $s6
    # Save param t28 to $s7
    # Call printf
    li $v0, 11
    li $a0, 83
    syscall
    li $v0, 11
    li $a0, 117
    syscall
    li $v0, 11
    li $a0, 98
    syscall
    li $v0, 11
    li $a0, 116
    syscall
    li $v0, 11
    li $a0, 114
    syscall
    li $v0, 11
    li $a0, 97
    syscall
    li $v0, 11
    li $a0, 99
    syscall
    li $v0, 11
    li $a0, 116
    syscall
    li $v0, 11
    li $a0, 58
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    # Print integer
    li $v0, 1
    move $a0, $s7
    syscall
    li $v0, 11
    li $a0, 10
    syscall
    la $s0, str_3
    # Save string param str_3 to $s0
    li $t1, 2
    li $t2, 4
    mul $t0, $t1, $t2
    la $t1, operations
    add $t2, $t1, $t0
    lw $t0, 0($t2)
    # Reloading a from stack
    lw $t1, 0($sp)
    move $s1, $t1
    # Save param a to $s1
    # Reloading b from stack
    lw $t2, 4($sp)
    move $s2, $t2
    # Save param b to $s2
    # Indirect call through t33
    move $a0, $s1
    move $a1, $s2
    jalr $t0
    move $s3, $v0
    move $s4, $s3
    # Save param t34 to $s4
    # Call printf
    li $v0, 11
    li $a0, 77
    syscall
    li $v0, 11
    li $a0, 117
    syscall
    li $v0, 11
    li $a0, 108
    syscall
    li $v0, 11
    li $a0, 116
    syscall
    li $v0, 11
    li $a0, 105
    syscall
    li $v0, 11
    li $a0, 112
    syscall
    li $v0, 11
    li $a0, 108
    syscall
    li $v0, 11
    li $a0, 121
    syscall
    li $v0, 11
    li $a0, 58
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    # Print integer
    li $v0, 1
    move $a0, $s4
    syscall
    li $v0, 11
    li $a0, 10
    syscall
    la $s5, str_4
    # Save string param str_4 to $s5
    li $t1, 3
    li $t2, 4
    mul $t0, $t1, $t2
    la $t1, operations
    add $t2, $t1, $t0
    lw $t0, 0($t2)
    # Reloading a from stack
    lw $t1, 0($sp)
    move $s6, $t1
    # Save param a to $s6
    # Reloading b from stack
    lw $t2, 4($sp)
    move $s7, $t2
    # Save param b to $s7
    # Indirect call through t39
    move $a0, $s6
    move $a1, $s7
    jalr $t0
    move $s0, $v0
    move $s1, $s0
    # Save param t40 to $s1
    # Call printf
    li $v0, 11
    li $a0, 68
    syscall
    li $v0, 11
    li $a0, 105
    syscall
    li $v0, 11
    li $a0, 118
    syscall
    li $v0, 11
    li $a0, 105
    syscall
    li $v0, 11
    li $a0, 100
    syscall
    li $v0, 11
    li $a0, 101
    syscall
    li $v0, 11
    li $a0, 58
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    # Print integer
    li $v0, 1
    move $a0, $s1
    syscall
    li $v0, 11
    li $a0, 10
    syscall
    la $s2, str_5
    # Save string param str_5 to $s2
    # Call printf
    li $v0, 11
    li $a0, 85
    syscall
    li $v0, 11
    li $a0, 115
    syscall
    li $v0, 11
    li $a0, 105
    syscall
    li $v0, 11
    li $a0, 110
    syscall
    li $v0, 11
    li $a0, 103
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    li $v0, 11
    li $a0, 97
    syscall
    li $v0, 11
    li $a0, 112
    syscall
    li $v0, 11
    li $a0, 112
    syscall
    li $v0, 11
    li $a0, 108
    syscall
    li $v0, 11
    li $a0, 121
    syscall
    li $v0, 11
    li $a0, 95
    syscall
    li $v0, 11
    li $a0, 111
    syscall
    li $v0, 11
    li $a0, 112
    syscall
    li $v0, 11
    li $a0, 101
    syscall
    li $v0, 11
    li $a0, 114
    syscall
    li $v0, 11
    li $a0, 97
    syscall
    li $v0, 11
    li $a0, 116
    syscall
    li $v0, 11
    li $a0, 105
    syscall
    li $v0, 11
    li $a0, 111
    syscall
    li $v0, 11
    li $a0, 110
    syscall
    li $v0, 11
    li $a0, 58
    syscall
    li $v0, 11
    li $a0, 10
    syscall
    la $s3, str_6
    # Save string param str_6 to $s3
    la $s4, func_add
    # Save function address add to $s4
    # Call apply_operation
    li $a0, 10
    li $a1, 5
    move $a2, $s4
    jal func_apply_operation
    move $s5, $v0
    move $s6, $s5
    # Save param t43 to $s6
    # Call printf
    li $v0, 11
    li $a0, 82
    syscall
    li $v0, 11
    li $a0, 101
    syscall
    li $v0, 11
    li $a0, 115
    syscall
    li $v0, 11
    li $a0, 117
    syscall
    li $v0, 11
    li $a0, 108
    syscall
    li $v0, 11
    li $a0, 116
    syscall
    li $v0, 11
    li $a0, 58
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    # Print integer
    li $v0, 1
    move $a0, $s6
    syscall
    li $v0, 11
    li $a0, 10
    syscall
    la $s7, str_6
    # Save string param str_6 to $s7
    la $s0, func_multiply
    # Save function address multiply to $s0
    # Call apply_operation
    li $a0, 10
    li $a1, 5
    move $a2, $s0
    jal func_apply_operation
    move $s1, $v0
    move $s2, $s1
    # Save param t45 to $s2
    # Call printf
    li $v0, 11
    li $a0, 82
    syscall
    li $v0, 11
    li $a0, 101
    syscall
    li $v0, 11
    li $a0, 115
    syscall
    li $v0, 11
    li $a0, 117
    syscall
    li $v0, 11
    li $a0, 108
    syscall
    li $v0, 11
    li $a0, 116
    syscall
    li $v0, 11
    li $a0, 58
    syscall
    li $v0, 11
    li $a0, 32
    syscall
    # Print integer
    li $v0, 1
    move $a0, $s2
    syscall
    li $v0, 11
    li $a0, 10
    syscall
    li $v0, 0
    # Restore stack and exit program
    addi $sp, $sp, 256
    li $v0, 10
    syscall

MIPS file generated: output.s

==================================================
COMPILATION SUCCESSFUL
==================================================
